<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Bengkel Admin</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <div id="login-page" class="login-container">
        <div class="login-header">
            <h2>Bengkel Admin</h2>
        </div>
        <div class="login-body">
            <div class="input-group">
                <label>Username</label>
                <input type="text" id="login-user" value="admin">
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="login-pass" value="admin123">
            </div>
            <button onclick="doLogin()" class="btn-login">Login</button>
        </div>
    </div>

    <div id="main-app" class="main-container">
        <div class="app-header">
            <h1>Bengkel Management System</h1>
            <button onclick="logout()" class="btn-logout">Logout</button>
        </div>

        <div class="app-main">
            <div class="sidebar">
                <div class="sidebar-item active" onclick="showPage('dashboard')">Dashboard</div>
                <div class="sidebar-item" onclick="showPage('customer')">Customer</div>
                <div class="sidebar-item" onclick="showPage('service')">Daftar Service</div> <div class="sidebar-item" onclick="showPage('item')">Barang</div>
                <div class="sidebar-item" onclick="showPage('transaction')">Transaksi</div>
                <div class="sidebar-item" onclick="showPage('report')">Laporan</div>
            </div>

            <div class="content">
                <div id="page-dashboard" class="page active">
                    <div class="page-header">
                        <h2>Dashboard</h2>
                    </div>
                    <div class="dashboard-grid">
                        <div class="stat-card">
                            <div class="label">Total Customer</div>
                            <div class="value" id="customer-count">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="label">Total Barang</div>
                            <div class="value" id="item-count">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="label">Total Transaksi</div>
                            <div class="value" id="transaction-count">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="label">Pendapatan</div>
                            <div class="value" id="revenue-count">Rp 0</div>
                        </div>
                    </div>

                    <div class="page-header">
                        <h2>Aktivitas Terbaru</h2>
                    </div>
                    <div class="table-container">
                        <table id="table-activity">
                            <thead>
                                <tr>
                                    <th>Tanggal</th>
                                    <th>Tipe</th>
                                    <th>Deskripsi</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="4" class="empty-state">
                                        <div class="empty-state-icon">üìä</div>
                                        <div>Tidak ada aktivitas</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="page-customer" class="page">
                    <div class="page-header">
                        <h2>Customer</h2>
                    </div>
                    <div class="toolbar">
                        <div class="search-box">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="search-customer" placeholder="Cari customer..." onkeyup="searchCustomer()">
                        </div>
                        <button onclick="openCustomerModal()" class="btn btn-success">Tambah Customer</button>
                    </div>
                    <div class="table-container">
                        <table id="table-customer">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nama</th>
                                    <th>Telepon</th>
                                    <th>Alamat</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="page-service" class="page">
                    <div class="page-header">
                        <h2>Daftar Jasa Service</h2>
                    </div>
                    <div class="toolbar">
                        <button onclick="openServiceModal()" class="btn btn-success">Tambah Service</button>
                    </div>
                    <div class="table-container">
                        <table id="table-service">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nama Service</th>
                                    <th>Harga</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="page-item" class="page">
                    <div class="page-header">
                        <h2>Barang</h2>
                    </div>
                    <div class="toolbar">
                        <div class="search-box">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="search-item" placeholder="Cari barang..." onkeyup="searchItem()">
                        </div>
                        <button onclick="openItemModal()" class="btn btn-success">Tambah Barang</button>
                    </div>
                    <div class="table-container">
                        <table id="table-item">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nama Barang</th>
                                    <th>Stok</th>
                                    <th>Harga</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="page-transaction" class="page">
                    <div class="page-header">
                        <h2>Transaksi</h2>
                    </div>
                    <div class="toolbar">
                        <button onclick="openTransactionModal()" class="btn btn-success">Buat Transaksi</button>
                    </div>
                    <div class="table-container">
                        <table id="table-transaction">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Tanggal</th>
                                    <th>Customer</th>
                                    <th>Keluhan</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="page-report" class="page">
                    <div class="page-header">
                        <h2>Laporan</h2>
                    </div>
                    <div class="report-controls">
                        <div class="date-range">
                            <div class="date-group">
                                <label>Tanggal Mulai</label>
                                <input type="date" id="report-start-date">
                            </div>
                            <div class="date-group">
                                <label>Tanggal Akhir</label>
                                <input type="date" id="report-end-date">
                            </div>
                            <button onclick="loadReport()" class="btn btn-primary">Tampilkan</button>
                            <button onclick="printReport()" class="btn btn-primary">Cetak</button>
                            <button onclick="generatePDFReport()" class="btn btn-pdf">Cetak PDF</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="table-report">
                            <thead>
                                <tr>
                                    <th>Tanggal</th>
                                    <th>ID Transaksi</th>
                                    <th>Customer</th>
                                    <th>Keluhan</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-customer" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Customer</h3>
                <button onclick="closeModal('modal-customer')" class="modal-close">√ó</button>
            </div>
            <form onsubmit="saveCustomer(); return false;">
                <div class="modal-body">
                    <input type="hidden" id="customer-id">
                    <div class="form-group">
                        <label>Nama Customer</label>
                        <input type="text" id="customer-name" required>
                    </div>
                    <div class="form-group">
                        <label>No. Telepon</label>
                        <input type="text" id="customer-phone" required>
                    </div>
                    <div class="form-group">
                        <label>Alamat</label>
                        <textarea id="customer-address"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Simpan</button>
                    <button type="button" onclick="closeModal('modal-customer')" class="btn">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-service" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Data Service</h3>
                <button onclick="closeModal('modal-service')" class="modal-close">√ó</button>
            </div>
            <form onsubmit="saveService(); return false;">
                <div class="modal-body">
                    <input type="hidden" id="service-id">
                    <div class="form-group">
                        <label>Nama Service</label>
                        <input type="text" id="service-name" required>
                    </div>
                    <div class="form-group">
                        <label>Harga</label>
                        <input type="number" id="service-price" required min="0">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Simpan</button>
                    <button type="button" onclick="closeModal('modal-service')" class="btn">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-item" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Barang</h3>
                <button onclick="closeModal('modal-item')" class="modal-close">√ó</button>
            </div>
            <form onsubmit="saveItem(); return false;">
                <div class="modal-body">
                    <input type="hidden" id="item-id">
                    <div class="form-group">
                        <label>Nama Barang</label>
                        <input type="text" id="item-name" required>
                    </div>
                    <div class="form-group">
                        <label>Stok</label>
                        <input type="number" id="item-stock" required min="0" step="1">
                    </div>
                    <div class="form-group">
                        <label>Harga</label>
                        <input type="number" id="item-price" required min="0" step="0.01">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Simpan</button>
                    <button type="button" onclick="closeModal('modal-item')" class="btn">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-transaction" class="modal">
        <div class="modal-content" style="width: 700px; max-width: 95%;">
            <div class="modal-header">
                <h3>Transaksi Baru</h3>
                <button onclick="closeModal('modal-transaction')" class="modal-close">√ó</button>
            </div>
            <form onsubmit="saveTransaction(); return false;">
                <div class="modal-body">
                    <input type="hidden" id="transaction-id">
                    
                    <div class="form-group">
                        <label>Customer</label>
                        <select id="transaction-customer" required class="form-control" style="width:100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc;"></select>
                    </div>
                    
                    <div class="form-group">
                        <label>Tanggal</label>
                        <input type="date" id="transaction-date" required>
                    </div>

                    <div class="form-group" style="border: 1px solid #30363d; padding: 10px; border-radius: 6px;">
                        <label style="margin-bottom: 10px; display:block;">Pilih Jasa Service:</label>
                        <div id="service-checkbox-container" style="max-height: 150px; overflow-y: auto;">
                            </div>
                    </div>

                    <div class="form-group">
                        <label>Pemakaian Barang / Sparepart</label>
                        <table style="width: 100%; margin-bottom: 10px; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 1px solid #30363d;">
                                    <th style="padding: 5px; text-align: left;">Barang</th>
                                    <th style="padding: 5px; width: 80px;">Jml</th>
                                    <th style="padding: 5px; width: 40px;"></th>
                                </tr>
                            </thead>
                            <tbody id="transaction-items-body">
                                </tbody>
                        </table>
                        <button type="button" onclick="addTransactionItemRow()" class="btn btn-success" style="font-size: 12px; padding: 5px 10px;">+ Tambah Barang</button>
                    </div>

                    <div class="form-group">
                        <label>Keluhan / Catatan</label>
                        <textarea id="transaction-complaint"></textarea>
                    </div>

                    <div class="form-group" style="text-align: right; margin-top: 20px; border-top: 1px solid #30363d; padding-top: 10px;">
                        <label style="font-size: 16px;">Total Estimasi:</label>
                        <h2 id="transaction-display-total" style="color: #3fb950; font-size: 24px;">Rp 0</h2>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Simpan Transaksi</button>
                    <button type="button" onclick="closeModal('modal-transaction')" class="btn">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/js/script.js"></script>
</body>
</html>